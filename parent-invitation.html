<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù…ÙˆØ°Ø¬ Ø¯Ø¹ÙˆØ© Ø­Ø¶ÙˆØ± Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± - Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0d5c0d, #1a7a1a, #2d8f2d);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 20px auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            overflow: hidden;
            position: relative;
        }
        
        .header {
            background: linear-gradient(135deg, #0d5c0d, #1a7a1a);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }
        
        .coat-of-arms {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin-bottom: 20px;
            border: 4px solid #2d8f2d;
            position: relative;
            z-index: 1;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .official-header {
            position: relative;
            z-index: 1;
        }
        
        .country {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .ministry {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 6px;
            opacity: 0.95;
        }
        
        .education-office {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 6px;
            opacity: 0.9;
        }
        
        .school-name {
            font-size: 22px;
            font-weight: bold;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid rgba(255,255,255,0.3);
        }
        
        .form-title {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 30px;
            text-align: center;
            border-bottom: 4px solid #0d5c0d;
        }
        
        .title-text {
            font-size: 32px;
            color: #0d5c0d;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .meeting-time {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            display: inline-block;
            margin-top: 10px;
        }
        
        .time-label {
            font-size: 18px;
            color: #666;
            margin-bottom: 8px;
        }
        
        .time-value {
            font-size: 28px;
            color: #0d5c0d;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .form-section {
            padding: 40px 30px;
        }
        
        .form-grid {
            display: grid;
            gap: 25px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            position: relative;
        }
        
        .form-label {
            display: block;
            font-weight: 700;
            margin-bottom: 12px;
            color: #0d5c0d;
            font-size: 18px;
            position: relative;
            padding-right: 25px;
        }
        
        .form-label::before {
            content: 'â—';
            position: absolute;
            right: 0;
            color: #2d8f2d;
            font-size: 20px;
        }
        
        .form-input {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            font-family: inherit;
            background: #fafafa;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #2d8f2d;
            box-shadow: 0 0 20px rgba(45, 143, 45, 0.15);
            background: white;
            transform: translateY(-2px);
        }
        
        .form-help {
            font-size: 14px;
            color: #666;
            margin-top: 8px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #0d5c0d;
        }
        
        .loading-message {
            text-align: center;
            color: #0d5c0d;
            font-size: 16px;
            margin: 20px 0;
            padding: 15px;
            background: #f0fff0;
            border-radius: 10px;
            border: 1px solid #d4edda;
        }
        
        .select-wrapper {
            position: relative;
        }
        
        .select-wrapper::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 6px solid #0d5c0d;
            pointer-events: none;
            transition: transform 0.3s ease;
        }
        
        .form-select:focus + .select-wrapper::after {
            transform: translateY(-50%) rotate(180deg);
        }
        
        .form-select {
            width: 100%;
            padding: 18px 50px 18px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            background: #fafafa;
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%230d5c0d"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: left 15px center;
            background-size: 20px;
            color: #333;
        }
        
        .form-select:focus {
            outline: none;
            border-color: #2d8f2d;
            box-shadow: 0 0 20px rgba(45, 143, 45, 0.15);
            background-color: white;
            transform: translateY(-2px);
        }
        
        .form-select option {
            padding: 10px 15px;
            font-size: 16px;
            color: #333;
            background: white;
        }
        
        .form-select option:disabled {
            color: #dc3545;
            background: #f8d7da;
            font-weight: bold;
        }
        
        .form-select option:not(:disabled):hover {
            background: #f0fff0;
            color: #0d5c0d;
        }
        
        .submit-section {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #2d8f2d, #0d5c0d);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 15px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(45, 143, 45, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .submit-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.6s ease;
        }
        
        .submit-btn:hover::before {
            width: 400px;
            height: 400px;
        }
        
        .submit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(45, 143, 45, 0.4);
        }
        
        .submit-btn:active {
            transform: translateY(-2px);
        }
        
        .success-message {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 2px solid #28a745;
            color: #155724;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 18px;
            margin-top: 20px;
            display: none;
            position: relative;
            overflow: hidden;
        }
        
        .success-message::before {
            content: 'âœ…';
            font-size: 40px;
            display: block;
            margin-bottom: 15px;
        }
        
        .error-message {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border: 2px solid #dc3545;
            color: #721c24;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 18px;
            margin-top: 20px;
            display: none;
            position: relative;
        }
        
        .error-message::before {
            content: 'âŒ';
            font-size: 40px;
            display: block;
            margin-bottom: 15px;
        }
        
        .footer {
            background: #0d5c0d;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 14px;
            opacity: 0.9;
        }
        
        .day-option {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px 20px;
            font-size: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .day-option:hover {
            border-color: #2d8f2d;
            background: linear-gradient(135deg, #f0fff0, #f8f9fa);
        }
        
        .day-name {
            font-weight: 600;
            color: #0d5c0d;
        }
        
        .day-date {
            color: #666;
            font-size: 14px;
        }
        
        .required-note {
            color: #dc3545;
            font-size: 14px;
            margin-top: 30px;
            text-align: center;
            font-weight: 500;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ù‚Ø³Ù… Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± */
        .excuse-section {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .excuse-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 193, 7, 0.1), transparent);
            transition: left 0.6s;
        }
        
        .excuse-section:hover::before {
            left: 100%;
        }
        
        .excuse-header {
            position: relative;
            z-index: 1;
        }
        
        .excuse-main-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            color: #856404;
            transition: all 0.3s ease;
        }
        
        .excuse-main-label:hover {
            color: #533f03;
            transform: translateX(5px);
        }
        
        .excuse-checkbox {
            width: 20px;
            height: 20px;
            margin-left: 15px;
            cursor: pointer;
            transform: scale(1.3);
            accent-color: #ffc107;
        }
        
        .excuse-text {
            user-select: none;
        }
        
        .excuse-details {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #ffc107;
            animation: slideDown 0.4s ease;
            position: relative;
            z-index: 1;
        }
        
        .excuse-textarea {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #ffc107;
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
            line-height: 1.6;
        }
        
        .excuse-textarea:focus {
            border-color: #e0a800;
            background: white;
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.2);
        }
        
        .excuse-textarea::placeholder {
            color: #856404;
            font-style: italic;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
                max-height: 0;
            }
            to {
                opacity: 1;
                transform: translateY(0);
                max-height: 200px;
            }
        }
        
        @keyframes slideUp {
            from {
                opacity: 1;
                transform: translateY(0);
                max-height: 200px;
            }
            to {
                opacity: 0;
                transform: translateY(-20px);
                max-height: 0;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .country {
                font-size: 20px;
            }
            
            .ministry {
                font-size: 17px;
            }
            
            .school-name {
                font-size: 18px;
            }
            
            .title-text {
                font-size: 26px;
            }
            
            .form-section {
                padding: 30px 20px;
            }
            
            .time-value {
                font-size: 24px;
            }
            
            .submit-btn {
                padding: 18px 40px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ -->
        <div class="header">
            <div class="coat-of-arms">ğŸ‡¸ğŸ‡¦</div>
            <div class="official-header">
                <div class="country">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</div>
                <div class="ministry">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…</div>
                <div class="education-office">Ù…ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø¹ÙˆØ§Ù„ÙŠ</div>
                <div class="school-name">Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ</div>
            </div>
        </div>
        
        <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
        <div class="form-title">
            <h1 class="title-text">Ù†Ù…ÙˆØ°Ø¬ Ø¯Ø¹ÙˆØ© Ø­Ø¶ÙˆØ± Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±</h1>
            <div class="meeting-time">
                <div class="time-label">ÙˆÙ‚Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹</div>
                <div class="time-value">
                    <span>ğŸ•</span>
                    <span>12:30 - 1:00 Ø¸Ù‡Ø±Ø§Ù‹</span>
                </div>
            </div>
        </div>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
        <div class="form-section">
            <form id="parentForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="studentName" class="form-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</label>
                        <input type="text" id="studentName" name="studentName" class="form-input" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø·Ø§Ù„Ø¨">
                    </div>
                    
                    <div class="form-group">
                        <label for="parentName" class="form-label">Ø§Ø³Ù… ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</label>
                        <input type="text" id="parentName" name="parentName" class="form-input" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù„ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±">
                    </div>
                    
                    <div class="form-group">
                        <label for="phoneNumber" class="form-label">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                        <input type="tel" id="phoneNumber" name="phoneNumber" class="form-input" required placeholder="05xxxxxxxxx" pattern="[0-9]{10}" maxlength="10">
                    </div>
                    
                    <div class="form-group">
                        <label for="meetingDay" class="form-label">Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø­Ø¶ÙˆØ±</label>
                        <div class="select-wrapper">
                            <select id="meetingDay" name="meetingDay" class="form-select">
                                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ --</option>
                                <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                            </select>
                        </div>
                        <div class="form-help">
                            ğŸ’¡ <strong>ØªÙ„Ù…ÙŠØ­:</strong> Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø³ØªØ¸Ù‡Ø± Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±. Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± ÙŠÙˆÙ….
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± -->
                    <div class="excuse-section">
                        <div class="excuse-header">
                            <label class="excuse-main-label">
                                <input type="checkbox" id="excuseCheckbox" class="excuse-checkbox">
                                <span class="excuse-text">ğŸ˜” Ø£Ø¹ØªØ°Ø± Ø¹Ù† Ø§Ù„Ø­Ø¶ÙˆØ±</span>
                            </label>
                        </div>
                        
                        <div class="excuse-details" id="excuseDetails" style="display: none;">
                            <div class="form-group">
                                <label for="excuseReason" class="form-label">Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±</label>
                                <textarea id="excuseReason" name="excuseReason" class="form-input excuse-textarea" 
                                         rows="4" placeholder="ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø³Ø¨Ø¨ Ø¹Ø¯Ù… Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ±..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                
                <p class="required-note">
                    Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆÙ…Ù…ÙŠØ²Ø© Ø¨Ø§Ù„Ø±Ù…Ø² â—
                </p>
            </form>
        </div>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ -->
        <div class="submit-section">
            <button type="submit" form="parentForm" class="submit-btn" id="submitBtn">
                ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¶ÙˆØ±
            </button>
            
            <div class="success-message" id="successMessage">
                <strong>ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!</strong><br>
                <span id="successDetails">Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯</span>
            </div>
            
            <div class="error-message" id="errorMessage">
                Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.
            </div>
        </div>
        
        <!-- Ø§Ù„ÙÙˆØªØ± -->
        <div class="footer">
            Â© 1447Ù‡Ù€ - Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ - Ù…ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø¹ÙˆØ§Ù„ÙŠ
        </div>
    </div>
    
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙŠØ§Ù… Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ù…ØªÙ„Ø§Ø¡
        const DAYS_CAPACITY = {
            sunday: { name: 'Ø§Ù„Ø£Ø­Ø¯', date: '15/3/1447Ù‡Ù€', max: 80 },
            monday: { name: 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', date: '16/3/1447Ù‡Ù€', max: 80 },
            tuesday: { name: 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', date: '17/3/1447Ù‡Ù€', max: 80 },
            wednesday: { name: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', date: '18/3/1447Ù‡Ù€', max: 80 },
            thursday: { name: 'Ø§Ù„Ø®Ù…ÙŠØ³', date: '19/3/1447Ù‡Ù€', max: 80 }
        };
        
        // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        let bookingsData = JSON.parse(localStorage.getItem('parentMeetingBookings') || '{}');
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù„ÙƒÙ„ ÙŠÙˆÙ… ÙˆØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
        function updateDayOptions() {
            const selectElement = document.getElementById('meetingDay');
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„
            selectElement.innerHTML = '<option value="">ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ§Ø­Ø©...</option>';
            selectElement.disabled = true;
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« (ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù‚Ø¯ Ù†Ø­ØªØ§Ø¬ Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…)
            setTimeout(() => {
                // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
                selectElement.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ --</option>';
                
                // Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£ÙŠØ§Ù…
                const dayOptions = [
                    { value: 'sunday', text: 'Ø§Ù„Ø£Ø­Ø¯ - 15/3/1447Ù‡Ù€' },
                    { value: 'monday', text: 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ† - 16/3/1447Ù‡Ù€' },
                    { value: 'tuesday', text: 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ - 17/3/1447Ù‡Ù€' },
                    { value: 'wednesday', text: 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ - 18/3/1447Ù‡Ù€' },
                    { value: 'thursday', text: 'Ø§Ù„Ø®Ù…ÙŠØ³ - 19/3/1447Ù‡Ù€' }
                ];
                
                dayOptions.forEach(dayOption => {
                    const option = document.createElement('option');
                    option.value = dayOption.value;
                    
                    if (DAYS_CAPACITY[dayOption.value]) {
                        const bookedCount = getBookedCount(dayOption.value);
                        const available = DAYS_CAPACITY[dayOption.value].max - bookedCount;
                        
                        if (available <= 0) {
                            option.disabled = true;
                            option.textContent = dayOption.text + ' (Ù…ÙƒØªÙ…Ù„ âŒ)';
                            option.style.color = '#dc3545';
                            option.style.background = '#f8d7da';
                        } else if (available <= 10) {
                            option.textContent = dayOption.text + ` (Ù…ØªØ¨Ù‚ÙŠ: ${available} Ù…Ù‚Ø§Ø¹Ø¯ ÙÙ‚Ø· âš ï¸)`;
                            option.style.color = '#856404';
                            option.style.background = '#fff3cd';
                        } else {
                            option.textContent = dayOption.text + ` (Ù…ØªØ§Ø­: ${available} Ù…Ù‚Ø¹Ø¯ âœ…)`;
                            option.disabled = false;
                        }
                    } else {
                        option.textContent = dayOption.text;
                    }
                    
                    selectElement.appendChild(option);
                });
                
                // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                selectElement.disabled = false;
            }, 500);
        }
        
        // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù„ÙƒÙ„ ÙŠÙˆÙ…
        function getBookedCount(day) {
            return bookingsData[day] ? bookingsData[day].length : 0;
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ
        function isValidSaudiPhone(phone) {
            return /^05[0-9]{8}$/.test(phone);
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø­Ø¬Ø² Ù†ÙØ³ Ø§Ù„Ø·Ø§Ù„Ø¨
        function isStudentAlreadyBooked(studentName) {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
            for (const day in bookingsData) {
                if (day !== 'excuses' && bookingsData[day].some(booking => 
                    booking.studentName.toLowerCase() === studentName.toLowerCase())) {
                    return true;
                }
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±Ø§Øª
            if (bookingsData.excuses && bookingsData.excuses.some(excuse => 
                excuse.studentName.toLowerCase() === studentName.toLowerCase())) {
                return true;
            }
            
            return false;
        }
        
        // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø²
        function saveBooking(bookingData) {
            const day = bookingData.selectedDay;
            
            if (!bookingsData[day]) {
                bookingsData[day] = [];
            }
            
            bookingsData[day].push(bookingData);
            localStorage.setItem('parentMeetingBookings', JSON.stringify(bookingsData));
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
        function saveExcuse(excuseData) {
            console.log('Ø¨Ø¯Ø¡ Ø­ÙØ¸ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±:', excuseData);
            
            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…ØµÙÙˆÙØ© Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±Ø§Øª
            if (!bookingsData.excuses) {
                bookingsData.excuses = [];
                console.log('Ø¥Ù†Ø´Ø§Ø¡ Ù…ØµÙÙˆÙØ© Ø§Ø¹ØªØ°Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©');
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
            bookingsData.excuses.push(excuseData);
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage
            localStorage.setItem('parentMeetingBookings', JSON.stringify(bookingsData));
            
            console.log('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­. Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ Ù„Ù„Ø§Ø¹ØªØ°Ø§Ø±Ø§Øª:', bookingsData.excuses.length);
            console.log('Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:', JSON.parse(localStorage.getItem('parentMeetingBookings')));
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
        function showSuccess(isExcuse) {
            const successMsg = document.getElementById('successMessage');
            const successDetails = document.getElementById('successDetails');
            const errorMsg = document.getElementById('errorMessage');
            
            errorMsg.style.display = 'none';
            
            if (isExcuse) {
                successMsg.querySelector('strong').textContent = 'ğŸ˜” ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ø¹ØªØ°Ø§Ø±Ùƒ Ø¨Ù†Ø¬Ø§Ø­';
                successDetails.textContent = 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ø¥Ø¹Ù„Ø§Ù…Ù†Ø§ Ø¨Ø¹Ø¯Ù… Ù‚Ø¯Ø±ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ±. Ù†ØªÙÙ‡Ù… Ø¸Ø±ÙˆÙÙƒ ÙˆÙ†Ù‚Ø¯Ø± ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§.';
                successMsg.style.background = 'linear-gradient(135deg, #fff3cd, #ffeaa7)';
                successMsg.style.borderColor = '#ffc107';
            } else {
                successMsg.querySelector('strong').textContent = 'ğŸ‰ ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø¶ÙˆØ±Ùƒ Ø¨Ù†Ø¬Ø§Ø­!';
                successDetails.textContent = 'Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ. Ù†ØªØ·Ù„Ø¹ Ù„Ø±Ø¤ÙŠØªÙƒ ÙÙŠ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹.';
                successMsg.style.background = 'linear-gradient(135deg, #d4edda, #c3e6cb)';
                successMsg.style.borderColor = '#28a745';
            }
            
            successMsg.style.display = 'block';
            successMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 7 Ø«ÙˆØ§Ù†Ù
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 7000);
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
        function showError(message) {
            const errorMsg = document.getElementById('errorMessage');
            const successMsg = document.getElementById('successMessage');
            
            successMsg.style.display = 'none';
            errorMsg.innerHTML = `âŒ<br><strong>Ø®Ø·Ø£:</strong> ${message}`;
            errorMsg.style.display = 'block';
            errorMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            setTimeout(() => {
                errorMsg.style.display = 'none';
            }, 5000);
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ø§Ù†Ø© Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
        document.getElementById('excuseCheckbox').addEventListener('change', function() {
            const excuseDetails = document.getElementById('excuseDetails');
            const meetingDaySelect = document.getElementById('meetingDay');
            const submitBtn = document.getElementById('submitBtn');
            
            if (this.checked) {
                // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
                excuseDetails.style.display = 'block';
                excuseDetails.style.animation = 'slideDown 0.4s ease';
                
                // Ø¥Ù„ØºØ§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙŠÙˆÙ… ÙˆØ¬Ø¹Ù„Ù‡ ØºÙŠØ± Ù…Ø·Ù„ÙˆØ¨
                meetingDaySelect.value = '';
                meetingDaySelect.disabled = true;
                meetingDaySelect.style.opacity = '0.5';
                meetingDaySelect.removeAttribute('required');
                
                // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                meetingDaySelect.innerHTML = '<option value="">-- Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± ÙŠÙˆÙ… (Ù…Ø¹ØªØ°Ø±) --</option>';
                
                // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø±
                submitBtn.textContent = 'ğŸ“ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±';
                submitBtn.style.background = 'linear-gradient(135deg, #ffc107, #e0a800)';
                submitBtn.style.color = '#000';
                
                // Ø¬Ø¹Ù„ Ø­Ù‚Ù„ Ø§Ù„Ø³Ø¨Ø¨ Ù…Ø·Ù„ÙˆØ¨Ø§Ù‹
                document.getElementById('excuseReason').setAttribute('required', 'required');
            } else {
                // Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
                excuseDetails.style.animation = 'slideUp 0.4s ease';
                setTimeout(() => {
                    excuseDetails.style.display = 'none';
                }, 400);
                
                // ØªÙØ¹ÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙŠÙˆÙ…
                meetingDaySelect.disabled = false;
                meetingDaySelect.style.opacity = '1';
                meetingDaySelect.setAttribute('required', 'required');
                
                // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙŠØ§Ù…
                updateDayOptions();
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù†Øµ Ø§Ù„Ø²Ø±
                submitBtn.textContent = 'âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¶ÙˆØ±';
                submitBtn.style.background = 'linear-gradient(135deg, #2d8f2d, #0d5c0d)';
                submitBtn.style.color = 'white';
                
                // Ø¥Ù„ØºØ§Ø¡ ÙˆØ¬ÙˆØ¨ Ø­Ù‚Ù„ Ø§Ù„Ø³Ø¨Ø¨
                document.getElementById('excuseReason').removeAttribute('required');
                document.getElementById('excuseReason').value = '';
            }
        });
        document.getElementById('parentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const studentName = document.getElementById('studentName').value.trim();
            const parentName = document.getElementById('parentName').value.trim();
            const phoneNumber = document.getElementById('phoneNumber').value.trim();
            const meetingDay = document.getElementById('meetingDay').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (!studentName || !parentName || !phoneNumber || !meetingDay) {
                showError('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            if (!isValidSaudiPhone(phoneNumber)) {
                showError('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø¬ÙˆØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ ØµØ­ÙŠØ­ (ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…)');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø§Ù„Ø·Ø§Ù„Ø¨
            if (isStudentAlreadyBooked(studentName)) {
                showError('Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹ ÙÙŠ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆÙØ± Ù…Ù‚Ø§Ø¹Ø¯ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø®ØªØ§Ø±
            const bookedCount = getBookedCount(meetingDay);
            if (bookedCount >= DAYS_CAPACITY[meetingDay].max) {
                showError(`Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø®ØªØ§Ø± Ù…ÙƒØªÙ…Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙŠÙˆÙ… Ø¢Ø®Ø±`);
                updateDayOptions();
                return;
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø²
            const bookingData = {
                studentName,
                parentName,
                phoneNumber,
                selectedDay: meetingDay,
                selectedDayName: DAYS_CAPACITY[meetingDay].name + ' - ' + DAYS_CAPACITY[meetingDay].date,
                timestamp: new Date().toLocaleString('ar-SA', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: false
                }),
                id: Date.now() // Ù…Ø¹Ø±Ù ÙØ±ÙŠØ¯ Ù„Ù„Ø­Ø¬Ø²
            };
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            saveBooking(bookingData);
            
            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
            showSuccess();
            
            // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£ÙŠØ§Ù…
            updateDayOptions();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            document.getElementById('parentForm').reset();
        });
        
        // ØªØ­Ø¯ÙŠØ¯ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05 ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        document.getElementById('phoneNumber').addEventListener('input', function() {
            let value = this.value.replace(/\D/g, ''); // Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„ Ø´ÙŠØ¡ ØºÙŠØ± Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
            
            if (value.length > 0 && !value.startsWith('05')) {
                if (value.startsWith('5')) {
                    value = '0' + value;
                } else if (!value.startsWith('0')) {
                    value = '05' + value;
                }
            }
            
            this.value = value.substring(0, 10); // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10 Ø£Ø±Ù‚Ø§Ù…
        });
        
        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£ÙŠØ§Ù… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            updateDayOptions();
            
            // Ø¬Ø¹Ù„ Ø­Ù‚Ù„ Ø§Ù„ÙŠÙˆÙ… Ù…Ø·Ù„ÙˆØ¨Ø§Ù‹ Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ
            document.getElementById('meetingDay').setAttribute('required', 'required');
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù„Ù„Ù†Ù…ÙˆØ°Ø¬
            const inputs = document.querySelectorAll('.form-input, .form-select');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.style.transform = 'scale(1.02)';
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.style.transform = 'scale(1)';
                });
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            loadDraft();
            
            // Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
            console.log('Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± ØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡');
        });
        
        // Ø­ÙØ¸ Ù…Ø³ÙˆØ¯Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©
        let draftTimer;
        document.querySelectorAll('.form-input, .form-select, .excuse-checkbox, .excuse-textarea').forEach(input => {
            input.addEventListener('input', function() {
                clearTimeout(draftTimer);
                draftTimer = setTimeout(saveDraft, 1000);
            });
        });
        
        function saveDraft() {
            const draft = {
                studentName: document.getElementById('studentName').value,
                parentName: document.getElementById('parentName').value,
                phoneNumber: document.getElementById('phoneNumber').value,
                meetingDay: document.getElementById('meetingDay').value,
                isExcuse: document.getElementById('excuseCheckbox').checked,
                excuseReason: document.getElementById('excuseReason').value,
                timestamp: Date.now()
            };
            localStorage.setItem('parentFormDraft', JSON.stringify(draft));
        }
        
        function loadDraft() {
            const draft = JSON.parse(localStorage.getItem('parentFormDraft') || '{}');
            if (draft.timestamp && (Date.now() - draft.timestamp) < 24 * 60 * 60 * 1000) {
                if (draft.studentName) document.getElementById('studentName').value = draft.studentName;
                if (draft.parentName) document.getElementById('parentName').value = draft.parentName;
                if (draft.phoneNumber) document.getElementById('phoneNumber').value = draft.phoneNumber;
                if (draft.meetingDay && !draft.isExcuse) document.getElementById('meetingDay').value = draft.meetingDay;
                if (draft.excuseReason) document.getElementById('excuseReason').value = draft.excuseReason;
                
                // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±
                if (draft.isExcuse) {
                    document.getElementById('excuseCheckbox').checked = true;
                    document.getElementById('excuseCheckbox').dispatchEvent(new Event('change'));
                }
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ÙˆØ¯Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', loadDraft);
        
        // Ø­Ø°Ù Ø§Ù„Ù…Ø³ÙˆØ¯Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ø§Ø¬Ø­
        document.getElementById('parentForm').addEventListener('submit', function() {
            localStorage.removeItem('parentFormDraft');
        });
    </script>
</body>
</html>
